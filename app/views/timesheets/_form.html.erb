<!--
<script type="text/javascript">
  $(document).ready(function(){
    $("#form_id").hide();
    $("#Add").click(function(){
      $("#form_id").show();
    });
  });
</script>
-->


<script>
  $(document).ready(function(){
    $("#form_id").hide();
    var form_field = 0;
    $("#Add").click(function(){
      form_field++;

    $(this).parent().before($("#form_id").clone().attr("id","form_id" + form_field));
    $("#form_id" + form_field).css("display","inline");
    $("#form_id" + form_field + ":input").each(function(){
      $(this).attr("name",$(this).attr("name") + form_field);
      $(this).attr("id",$(this).attr("id")+ form_field);
    });
    $("#remove" + form_field).click(function(){
      $(this).closest("div").remove();
    });
    });
  });
  </script>
  
<%= form_for(@timesheet) do |f| %>
  <% if @timesheet.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@timesheet.errors.count, "error") %> prohibited this timesheet from being saved:</h2>

      <ul>
      <% @timesheet.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
 
  <div id = "form_id">
  <div class="field">
    <%= f.label :project_name %><br>
    <%= f.select(:project_id,options_from_collection_for_select(Project.all,'id','name')) %>
  </div>
  <div class="field">
    <%= f.label :description %><br>
    <%= f.text_area :description %>
  </div>
  <div class="field">
    <%= f.label :hours %><br>
    <%= f.select :hours,['1','2','3','4','5','6','7','8'] %>
  </div>
  <div class = "actions">
    <%= f.submit %>
  </div>
  </div>  
  <% end%>

<p>
<input type="button" id = "Add" value ="Add Timesheet">
</p>




